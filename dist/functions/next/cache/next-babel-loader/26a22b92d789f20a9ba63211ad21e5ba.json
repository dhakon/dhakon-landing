{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport Box from \"reusecore/src/elements/Box\";\nimport Text from \"reusecore/src/elements/Text\";\nimport Logo from \"reusecore/src/elements/UI/Logo\";\nimport Heading from \"reusecore/src/elements/Heading\";\nimport Input from \"reusecore/src/elements/Input\";\nimport Button from 'reusecore/src/elements/Button';\nimport Image from \"reusecore/src/elements/Image\";\nimport SignupWrapper, { InfoLabel } from \"./signup.styles\";\nimport { AppWithAuthentication } from \"./../../containers/App\";\nimport { auth, db } from \"./../../containers/firebase\";\nimport * as routes from \"./../../../reusecore/src/constants/routes\";\nimport Illustration from \"common/src/assets/image/app/farmer.svg\";\nimport LogoImage from \"common/src/assets/image/app/logo2.png\";\n\nconst SignUpPage = () => __jsx(AppWithAuthentication, null, __jsx(SignUpForm, null));\n\nconst updateByPropertyName = (propertyName, value) => () => ({\n  [propertyName]: value\n});\n\nconst INITIAL_STATE = {\n  fullname: \"\",\n  number_phone: null,\n  email: \"\",\n  password: \"\",\n  error: null\n};\n\nclass SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onSubmit\", event => {\n      const {\n        fullname,\n        email,\n        password\n      } = this.state;\n      auth.doCreateUserWithEmailAndPassword(email, password).then(authUser => {\n        // Create a user in your own accessible Firebase Database too\n        db.doCreateUser(authUser.user.uid, fullname, email).then(() => {\n          this.setState(() => _objectSpread({}, INITIAL_STATE));\n          Router.push(routes.HOME);\n        }).catch(error => {\n          this.setState(updateByPropertyName(\"error\", error));\n        });\n      }).catch(error => {\n        this.setState(updateByPropertyName(\"error\", error));\n      });\n      event.preventDefault();\n    });\n\n    this.state = _objectSpread({}, INITIAL_STATE);\n  }\n\n  handleChange(name, value) {\n    let state = this.state;\n    state[name] = value;\n    this.setState({\n      state\n    });\n  }\n\n  render() {\n    const {\n      row,\n      col,\n      imageCol,\n      btnStyle,\n      logoStyle,\n      imageArea,\n      titleStyle,\n      contentWrapper,\n      descriptionStyle,\n      textInfoTint,\n      textInfoTintError,\n      textInfoLink\n    } = this.props;\n    const {\n      fullname,\n      number_phone,\n      email,\n      password,\n      error\n    } = this.state;\n    const isInvalid = fullname === \"\" || number_phone === \"\" || email === \"\" || password === \"\";\n    return __jsx(SignupWrapper, null, __jsx(Box, _extends({\n      className: \"row\"\n    }, row), __jsx(Box, _extends({\n      className: \"col\"\n    }, col), __jsx(Box, contentWrapper, __jsx(Heading, _extends({\n      content: \"Daftar\"\n    }, titleStyle)), __jsx(Text, _extends({\n      content: \"Silahkan masukan data diri anda untuk mendapatkan pelayanan terbaik dari dhakon\"\n    }, descriptionStyle)), __jsx(\"form\", {\n      onSubmit: this.onSubmit\n    }, __jsx(Input, {\n      name: \"fullname\",\n      value: fullname,\n      onChange: this.handleChange.bind(this, \"fullname\"),\n      inputType: \"text\",\n      label: \"Nama Lengkap\",\n      placeholder: \"Masukan nama lengkap Anda\"\n    }), __jsx(Input, {\n      name: \"number_phone\",\n      value: number_phone,\n      onChange: this.handleChange.bind(this, \"number_phone\"),\n      inputType: \"number\",\n      label: \"Nomor Handphone/Whatsapp\",\n      placeholder: \"Masukan Nomor HP/WA Anda\"\n    }), __jsx(Input, {\n      name: \"email\",\n      value: email,\n      onChange: this.handleChange.bind(this, \"email\"),\n      inputType: \"email\",\n      label: \"Email\",\n      placeholder: \"Masukan email Anda jika memiliki\"\n    }), __jsx(Input, {\n      name: \"password\",\n      value: password,\n      onChange: this.handleChange.bind(this, \"password\"),\n      inputType: \"password\",\n      label: \"Kata Sandi\",\n      placeholder: \"Buat kata sandi Anda\",\n      autoComplete: \"off\",\n      passwordShowHide: true\n    }), __jsx(\"div\", null, __jsx(Box, null, __jsx(Link, null, __jsx(Button, _extends({\n      type: \"submit\",\n      disabled: isInvalid\n    }, btnStyle, {\n      title: \"Daftar Sekarang\"\n    }))), error && __jsx(InfoLabel, null, __jsx(Text, _extends({\n      content: error.message\n    }, textInfoTintError))), __jsx(InfoLabel, null, __jsx(Text, _extends({\n      content: \"Saya sudah punya dhakon!\"\n    }, textInfoTint)), __jsx(Link, {\n      href: \"/signin\"\n    }, __jsx(Text, _extends({\n      content: \"Langsung Masuk\"\n    }, textInfoLink))))))))), __jsx(Box, _extends({\n      className: \"col imageCol\"\n    }, col), __jsx(Box, imageCol, __jsx(Logo, {\n      href: \"#\",\n      logoSrc: LogoImage,\n      title: \"Dhakon\",\n      logoStyle: logoStyle\n    })), __jsx(Box, imageArea, __jsx(Image, {\n      src: Illustration,\n      alt: \"Dhakon Image\"\n    })))));\n  }\n\n} // Signup style props\n\n\n// Signup default style\nSignUpForm.defaultProps = {\n  // Team member row default style\n  row: {\n    flexBox: true,\n    flexWrap: \"wrap\"\n  },\n  // Team member col default style\n  col: {\n    width: [1, 1 / 2],\n    justifyContent: \"center\"\n  },\n  // Default logo size\n  logoStyle: {\n    width: \"230px\",\n    height: \"auto\",\n    ml: \"40px\",\n    mt: \"30px\"\n  },\n  imageCol: {},\n  imageArea: {\n    pt: [\"32px\", \"56px\"],\n    pl: [\"20px\", \"32px\", \"50px\", \"50px\", \"100px\"],\n    pr: [\"20px\", \"32px\", \"50px\", \"50px\", \"100px\"],\n    pb: [\"32px\", \"56px\"]\n  },\n  image: {\n    width: [\"0%\", \"0%\", \"70%\", \"70%\", \"70%\"],\n    backgroundColor: \"tomato\"\n  },\n  // Title default style\n  titleStyle: {\n    fontSize: [\"20px\", \"24px\", \"40px\", \"40px\", \"40px\"],\n    fontWeight: \"900\",\n    letterSpacing: \"-0.01px\",\n    color: \"#2B2B2B\",\n    mt: \"35px\",\n    mb: \"10px\"\n  },\n  // Description default style\n  descriptionStyle: {\n    fontSize: [\"10px\", \"14px\", \"16px\", \"16px\", \"16px\"],\n    color: \"#2B2B2B\",\n    mb: \"30px\"\n  },\n  // Content wrapper style\n  contentWrapper: {\n    pt: [\"32px\", \"56px\"],\n    pl: [\"20px\", \"32px\", \"50px\", \"50px\", \"150px\"],\n    pr: [\"20px\", \"32px\", \"50px\", \"50px\", \"150px\"],\n    pb: [\"32px\", \"56px\"],\n    backgroundColor: \"#fff\",\n    height: \"100vh\"\n  },\n  // Default button style\n  btnStyle: {\n    minWidth: \"100%\",\n    fontSize: \"14px\",\n    fontWeight: \"900\",\n    pl: \"22px\",\n    pr: \"22px\",\n    mt: \"20px\",\n    colors: \"primaryWithBg\"\n  },\n  // Outline button outline style\n  outlineBtnStyle: {\n    minWidth: \"156px\",\n    fontSize: \"14px\",\n    fontWeight: \"500\",\n    color: \"rgb(26, 115, 232)\"\n  },\n  textInfoTint: {\n    textAlign: \"center\",\n    fontSize: [\"12px\", \"14px\", \"15px\", \"15px\", \"15px\"],\n    fontWeight: \"500\",\n    color: \"#778CA3\",\n    mr: 1\n  },\n  textInfoTintError: {\n    textAlign: \"center\",\n    fontSize: [\"12px\", \"14px\", \"15px\", \"15px\", \"15px\"],\n    fontWeight: \"500\",\n    color: \"#eb3b5a\",\n    mr: 1\n  },\n  textInfoLink: {\n    textAlign: \"center\",\n    fontSize: [\"12px\", \"14px\", \"15px\", \"15px\", \"15px\"],\n    fontWeight: \"900\",\n    color: \"#2B2B2B\",\n    type: \"button\",\n    minHeight: 0,\n    p: \"0\",\n    bg: \"transparent\"\n  }\n};\nexport default SignUpPage;\nexport { SignUpForm };","map":null,"metadata":{},"sourceType":"module"}