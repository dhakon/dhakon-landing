{
  "ast": null,
  "code": "import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/msnajib/Documents/najib/Dhakon/dhakon-app/packages/landing/pages/form/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport * as routes from \"./../../../reusecore/src/constants/routes\";\nimport { AppWrapper } from \"../../containers/App/app.style\";\nimport { AppWithAuthentication } from \"./../../containers/App\";\nimport * as typeformEmbed from \"@typeform/embed\";\nimport axios from 'axios'; // const form_id = 'A7bW0z';\n// const token = 'DLrXyVaPwwS7VhFoL84VwKvcqc5rP8x9fEARcVJRt5Sg';\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function () {\n      Router.push(routes.LANDING);\n    });\n\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      typeformEmbed.makeWidget(embedElement, \"https://dhakon.typeform.com/to/A7bW0z\", {\n        hideHeaders: true,\n        hideFooter: true,\n        opacity: 75,\n        onSubmit: function onSubmit() {\n          Router.push(routes.LANDING);\n          axios.get(\"/forms/A7bW0z/responses\", {\n            headers: {\n              'Authorization': \"Bearer DLrXyVaPwwS7VhFoL84VwKvcqc5rP8x9fEARcVJRt5Sg\"\n            }\n          }).then(function (response) {\n            // handle success\n            console.log('response success : ', response.data.items[0]);\n            var res = response.data.items[0];\n            var name = res.answers[1].text;\n            var phone = res.answers[0].phone_number;\n            var type_work = res.answers[2].choice.label;\n            var number_workers = res.answers[3].number;\n            var duration = res.answers[4].choice.label;\n            var address = res.answers[5].text;\n            axios.post('/message', {\n              body: \"Selamat Siang Bapak/Ibu \".concat(name, \". Anda baru saja mencari buruh untuk \").concat(type_work, \" sebanyak \").concat(number_workers, \" dengan durasi \").concat(duration, \" disawah \").concat(address, \". Sabar ya... setelah ini Anda akan dihubungi tim Dhakon.\"),\n              to: phone,\n              from: '+17609933055'\n            }).then(function (response) {\n              console.log('response success', response);\n            })[\"catch\"](function (error) {\n              console.log('response error', error);\n            });\n          })[\"catch\"](function (error) {\n            // handle error\n            console.log('response error : ', error);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(AppWithAuthentication, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, __jsx(AppWrapper, {\n        id: \"embedElement\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Form;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authUser: state.sessionState.authUser\n  };\n};\n\nexport default connect(mapStateToProps)(Form);",
  "map": {
    "version": 3,
    "sources": [
      "/Users/msnajib/Documents/najib/Dhakon/dhakon-app/packages/landing/pages/form/index.js"
    ],
    "names": [
      "React",
      "Component",
      "connect",
      "Router",
      "routes",
      "AppWrapper",
      "AppWithAuthentication",
      "typeformEmbed",
      "axios",
      "Form",
      "push",
      "LANDING",
      "makeWidget",
      "embedElement",
      "hideHeaders",
      "hideFooter",
      "opacity",
      "onSubmit",
      "get",
      "headers",
      "then",
      "response",
      "console",
      "log",
      "data",
      "items",
      "res",
      "name",
      "answers",
      "text",
      "phone",
      "phone_number",
      "type_work",
      "choice",
      "label",
      "number_workers",
      "number",
      "duration",
      "address",
      "post",
      "body",
      "to",
      "from",
      "error",
      "mapStateToProps",
      "state",
      "authUser",
      "sessionState"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Router from \"next/router\";\nimport * as routes from \"./../../../reusecore/src/constants/routes\";\nimport { AppWrapper } from \"../../containers/App/app.style\";\nimport { AppWithAuthentication } from \"./../../containers/App\";\nimport * as typeformEmbed from \"@typeform/embed\";\nimport axios from 'axios';\n\n\n// const form_id = 'A7bW0z';\n// const token = 'DLrXyVaPwwS7VhFoL84VwKvcqc5rP8x9fEARcVJRt5Sg';\n\nclass Form extends Component {\n  componentDidMount() {\n    typeformEmbed.makeWidget(\n      embedElement,\n      \"https://dhakon.typeform.com/to/A7bW0z\",\n      {\n        hideHeaders: true,\n        hideFooter: true,\n        opacity: 75,\n        onSubmit: function () {\n          Router.push(routes.LANDING);\n\n          axios.get(`/forms/A7bW0z/responses`, {\n            headers: {\n              'Authorization': `Bearer DLrXyVaPwwS7VhFoL84VwKvcqc5rP8x9fEARcVJRt5Sg`\n            }\n          })\n            .then(function (response) {\n              // handle success\n              console.log('response success : ', response.data.items[0]);\n\n              const res = response.data.items[0]\n\n              const name = res.answers[1].text\n              const phone = res.answers[0].phone_number\n              const type_work = res.answers[2].choice.label\n              const number_workers = res.answers[3].number\n              const duration = res.answers[4].choice.label\n              const address = res.answers[5].text\n\n              axios.post('/message', {\n                body: `Selamat Siang Bapak/Ibu ${name}. Anda baru saja mencari buruh untuk ${type_work} sebanyak ${number_workers} dengan durasi ${duration} disawah ${address}. Sabar ya... setelah ini Anda akan dihubungi tim Dhakon.`,\n                to: phone,\n                from: '+17609933055'\n              })\n                .then(function (response) {\n                  console.log('response success', response);\n                })\n                .catch(function (error) {\n                  console.log('response error', error);\n                });\n\n            })\n            .catch(function (error) {\n              // handle error\n              console.log('response error : ', error);\n            })\n        }\n      }\n    );\n  }\n\n  handleSubmit = () => {\n    Router.push(routes.LANDING);\n  };\n\n  render() {\n    return (\n      <AppWithAuthentication>\n        <AppWrapper id=\"embedElement\" />\n      </AppWithAuthentication>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser\n});\n\nexport default connect(mapStateToProps)(Form);\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
